```{r display VeggieMeter Score change from baseline for the bold study, ft.align = "left"}
#| echo: false
#| results: asis
#| eval: !expr params$bold_veggiemeter

# stop("Stop for Veggie Meter Scoring")

vmdf <-
  BRIDGE21::get_database_values(
    veggiemeter,
    date = date,
    data = data
  )

colnames(vmdf)[which(colnames(vmdf) == "veggiemeter")] <- "Score"

if (nrow(vmdf) > 0 & all(!is.na(vmdf$Score))) {
  BRIDGE21::format_quarto(
    "sections/lifestyle/latex/veggiemeter.tex",
    type = "input"
  )

  vmdf %>%
    BRIDGE21::format_date(!!date) %>%
    dplyr::mutate(
      Interpretation = BRIDGE21::interpret_percent_change(
        Score,
        type = "fruit and vegetable"
      )
    ) %>%
    flextable::flextable() %>%
    flextable::width(j = 1, width = 0.75) %>%
    flextable::width(j = 2, width = 0.75) %>%
    flextable::width(j = 3, width = 4.5) %>%
    flextable::align(j = 1:3, part = "all", align = "center") %>%
    flextable::add_footer_row(
      values = "VeggieMeter Scores range from 0â€“800. Percent change calculated relative to baseline (first) measurement.",
      colwidths = 3
    ) %>%
    flextable::align(i = 1, part = "footer", align = "left")
}

BRIDGE21::format_quarto(type = "newpage")

```